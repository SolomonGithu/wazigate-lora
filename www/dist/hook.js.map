{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"BabelRuntimeHelpers.interopRequireDefault\"","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/hook.tsx","webpack:///./node_modules/@material-ui/icons/Remove.js","webpack:///external \"BabelRuntimeHelpers.extends\"","webpack:///external \"MaterialUI.SvgIcon\"","webpack:///./node_modules/@material-ui/icons/Router.js","webpack:///external \"MaterialUI\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","BabelRuntimeHelpers","interopRequireDefault","_interopRequireDefault","default","path","displayName","Component","_react","memo","forwardRef","props","ref","createElement","_SvgIcon","_extends2","muiName","hooks","setMenuHook","primary","icon","href","addDeviceMenuHook","device","handleMenuClose","setDevice","meta","lorawan","MenuItem","onClick","DevEUI","ListItemIcon","fontSize","ListItemText","secondary","useStylesLoRaWAN","makeStyles","theme","root","overflow","scrollBox","padding","spacing","minWidth","paper","background","flexGrow","body","shortInput","width","longInput","maxWidth","addDeviceHook","classes","profile","setProfile","useState","className","Grow","in","Paper","variant","Toolbar","IconButton","edge","Typography","noWrap","confirm","undefined","FormControl","InputLabel","id","Select","labelId","onChange","event","target","Fragment","TextField","label","resolve","_default","extends","MaterialUI","SvgIcon"],"mappings":"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","file":"hook.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = React;","module.exports = BabelRuntimeHelpers.interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","import React, { Fragment, useState } from \"react\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport RouterIcon from '@material-ui/icons/Router';\r\nimport BluetoothIcon from '@material-ui/icons/Bluetooth';\r\nimport { Device, Waziup, Sensor, Actuator, DeviceHook, DeviceHookProps, DeviceMenuHook, MenuHookProps, HookRegistry } from \"waziup\";\r\nimport {\r\n    Grow,\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Toolbar,\r\n    Typography,\r\n    makeStyles,\r\n    InputLabel,\r\n    FormControl,\r\n    TextField,\r\n    MenuItem,\r\n    Select,\r\n    Paper,\r\n} from '@material-ui/core';\r\n\r\n// Add a item to the dashboard menu.\r\n// The menu structure will be like this:\r\n// ```\r\n// - Dashboard\r\n// - Settings\r\n// + Apps\r\n//   - LoRaWAN    <- new\r\n// ```\r\nhooks.setMenuHook(\"apps.lorawan\", {\r\n    primary: \"LoRaWAN\",\r\n    icon: <RouterIcon />,\r\n    href: \"#/apps/waziup.wazigate-lora/index.html\",\r\n});\r\n\r\n// A DeviceMenuHook adds a item to the devices context menu.\r\n// We show a \"Make LoRaWAN\" for all devices that don't have `lorawan` metadata.  \r\nhooks.addDeviceMenuHook((props: DeviceHookProps & MenuHookProps) => {\r\n    const {\r\n        device,\r\n        handleMenuClose,\r\n        setDevice\r\n    } = props;\r\n    const handleClick = () => {\r\n        handleMenuClose();\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: {\r\n                    DevEUI: null,\r\n                }\r\n            }\r\n        }));\r\n        // gateway.setDeviceMeta(device.id, {\r\n        //     lorawan: {\r\n        //         DevEUI: null,\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    if (device === null || device.meta.lorawan) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <MenuItem onClick={handleClick} key=\"waziup.wazigate-lora\">\r\n            <ListItemIcon>\r\n                <RouterIcon fontSize=\"small\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Make LoRaWAN\" secondary=\"Declare as LoRaWAN device\" />\r\n        </MenuItem>\r\n    );\r\n})\r\n\r\nconst useStylesLoRaWAN = makeStyles((theme) => ({\r\n    root: {\r\n        overflow: \"auto\",\r\n    },\r\n    scrollBox: {\r\n        padding: theme.spacing(2),\r\n        minWidth: \"fit-content\",\r\n    },\r\n    paper: {\r\n        background: \"lightblue\",\r\n        minWidth: \"fit-content\",\r\n    },\r\n    name: {\r\n        flexGrow: 1,\r\n    },\r\n    body: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    shortInput: {\r\n        width: \"200px\",\r\n    },\r\n    longInput: {\r\n        width: 400,\r\n        maxWidth: \"100%\",\r\n    },\r\n}));\r\n\r\n// A DevicHook adds some UI to a device.\r\n// We add some input fields to make LoRaWAN settings for a device with `lorawan` meta.\r\nhooks.addDeviceHook((props: DeviceHookProps) => {\r\n    const classes = useStylesLoRaWAN();\r\n    const {\r\n        device,\r\n        setDevice\r\n    } = props;\r\n\r\n    const [profile, setProfile] = useState(\"\");\r\n\r\n    const lorawan = device?.meta[\"lorawan\"];\r\n\r\n    const handleProfileChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setProfile(event.target.value as string);\r\n    };\r\n\r\n    const handleRemoveClick = () => {\r\n        if(confirm(\"Do you want to remove the LoRaWAN settings from this device?\")) {\r\n            setDevice((device: Device) => ({\r\n                ...device,\r\n                meta: {\r\n                    ...device.meta,\r\n                    lorawan: undefined\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}><div className={classes.scrollBox}>\r\n        <Grow in={!!lorawan} key=\"waziup.wazigate-lora\">\r\n        <Paper variant=\"outlined\" className={classes.paper}>\r\n            <Toolbar variant=\"dense\">\r\n                <IconButton edge=\"start\">\r\n                    <RouterIcon />\r\n                </IconButton>\r\n                <Typography variant=\"h6\" noWrap className={classes.name}>\r\n                    LoRaWAN Settings\r\n                </Typography>\r\n                <IconButton onClick={handleRemoveClick}>\r\n                    <RemoveIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n            <div className={classes.body}>\r\n                <FormControl className={classes.shortInput}>\r\n                    <InputLabel id=\"lorawan-profile-label\">LoRaWAN Profile</InputLabel>\r\n                    <Select\r\n                        labelId=\"lorawan-profile-label\"\r\n                        id=\"lorawan-profile\"\r\n                        value={profile}\r\n                        onChange={handleProfileChange}\r\n                    >\r\n                        <MenuItem value=\"WaziDev\">WaziDev</MenuItem>\r\n                        <MenuItem value=\"\">Other</MenuItem>\r\n                    </Select>\r\n                </FormControl><br />\r\n                { profile === \"WaziDev\" ? (\r\n                    <Fragment>\r\n                        <TextField id=\"lorawan-devaddr\" label=\"DevAddr (Device Address)\" className={classes.shortInput}/><br />\r\n                        <TextField id=\"lorawan-nwskey\" label=\"NwkSKey (Network Session Key)\" className={classes.longInput}/><br />\r\n                        <TextField id=\"lorawan-appkey\" label=\"AppKey (App Key)\" className={classes.longInput}/>\r\n                    </Fragment>\r\n                ): null }\r\n            </div>\r\n        </Paper>\r\n        </Grow>\r\n        </div></div>\r\n    );\r\n});\r\n\r\n// Hook scripts always need to call this function to signal that the hook file was\r\n// successfully executed.\r\nhooks.resolve();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","module.exports = BabelRuntimeHelpers.extends;","module.exports = MaterialUI.SvgIcon;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z\"\n}), 'Router');\n\nexports.default = _default;","module.exports = MaterialUI;"],"sourceRoot":""}