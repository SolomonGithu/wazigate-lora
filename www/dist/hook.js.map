{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"BabelRuntimeHelpers.interopRequireDefault\"","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/hook.tsx","webpack:///./node_modules/@material-ui/icons/Remove.js","webpack:///external \"BabelRuntimeHelpers.extends\"","webpack:///external \"MaterialUI.SvgIcon\"","webpack:///./node_modules/@material-ui/icons/Router.js","webpack:///./node_modules/@material-ui/icons/Save.js","webpack:///./node_modules/@material-ui/icons/AddCircleOutline.js","webpack:///external \"MaterialUI\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","BabelRuntimeHelpers","interopRequireDefault","_interopRequireDefault","default","path","displayName","Component","_react","memo","forwardRef","props","ref","createElement","_SvgIcon","_extends2","muiName","hooks","setMenuHook","primary","icon","href","addDeviceMenuHook","device","handleMenuClose","setDevice","meta","lorawan","MenuItem","onClick","lorawanMeta","profile","wazigate","setDeviceMeta","id","ListItemIcon","fontSize","ListItemText","secondary","useStylesLoRaWAN","makeStyles","theme","root","overflow","textAlign","scrollBox","padding","spacing","minWidth","maxWidth","display","paper","background","header","color","flexGrow","body","shortInput","width","longInput","footer","cardBtn","marginRight","addDeviceHook","classes","newMeta","setNewMeta","useState","setMeta","hasUnsavedChanges","devAddr2EUI","devAddr","className","Card","CardHeader","avatar","action","IconButton","confirm","then","error","alert","title","CardContent","FormGroup","FormControl","InputLabel","Select","labelId","onChange","event","target","Fragment","htmlFor","Input","devEUI","endAdornment","InputAdornment","position","Tooltip","size","nwkSEncKey","rk","k","Array","Math","random","join","appSKey","TextField","label","CardActions","Grow","in","Button","variant","startIcon","timeout","enter","exit","resolve","_default","extends","MaterialUI","SvgIcon"],"mappings":"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","file":"hook.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = React;","module.exports = BabelRuntimeHelpers.interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","import React, { Fragment, useState } from \"react\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport RouterIcon from '@material-ui/icons/Router';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { Device, Waziup, Sensor, Actuator, DeviceHook, DeviceHookProps, DeviceMenuHook, MenuHookProps, HookRegistry } from \"waziup\";\r\nimport {\r\n    Grow,\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Toolbar,\r\n    Typography,\r\n    makeStyles,\r\n    InputLabel,\r\n    FormControl,\r\n    TextField,\r\n    MenuItem,\r\n    Select,\r\n    Paper,\r\n    Button,\r\n    CardActions,\r\n    Tooltip,\r\n    FormGroup,\r\n    Input,\r\n    InputAdornment,\r\n    CardContent,\r\n    CardHeader,\r\n    Card\r\n} from '@material-ui/core';\r\n\r\n// Add a item to the dashboard menu.\r\n// The menu structure will be like this:\r\n// ```\r\n// - Dashboard\r\n// - Settings\r\n// + Apps\r\n//   - LoRaWAN    <- new\r\n// ```\r\nhooks.setMenuHook(\"apps.lorawan\", {\r\n    primary: \"LoRaWAN\",\r\n    icon: <RouterIcon />,\r\n    href: \"#/apps/waziup.wazigate-lora/index.html\",\r\n});\r\n\r\n// A DeviceMenuHook adds a item to the devices context menu.\r\n// We show a \"Make LoRaWAN\" for all devices that don't have `lorawan` metadata.  \r\nhooks.addDeviceMenuHook((props: DeviceHookProps & MenuHookProps) => {\r\n    const {\r\n        device,\r\n        handleMenuClose,\r\n        setDevice\r\n    } = props;\r\n    const handleClick = () => {\r\n        handleMenuClose();\r\n        const lorawanMeta = {\r\n            profile: \"WaziDev\",\r\n        };\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: lorawanMeta\r\n            }\r\n        }));\r\n        wazigate.setDeviceMeta(device.id, {\r\n            lorawan: lorawanMeta\r\n        })\r\n    }\r\n\r\n    if (device === null || device.meta.lorawan) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <MenuItem onClick={handleClick} key=\"waziup.wazigate-lora\">\r\n            <ListItemIcon>\r\n                <RouterIcon fontSize=\"small\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Make LoRaWAN\" secondary=\"Declare as LoRaWAN device\" />\r\n        </MenuItem>\r\n    );\r\n})\r\n\r\nconst useStylesLoRaWAN = makeStyles((theme) => ({\r\n    root: {\r\n        overflow: \"auto\",\r\n        textAlign: \"center\",\r\n    },\r\n    scrollBox: {\r\n        padding: theme.spacing(2),\r\n        minWidth: \"fit-content\",\r\n        maxWidth: 650,\r\n        display: \"inline-block\",\r\n        textAlign: \"left\",\r\n    },\r\n    paper: {\r\n        background: \"#d8dee9\",\r\n        minWidth: \"fit-content\",\r\n    },\r\n    header: {\r\n        color: \"#34425a\",\r\n    },\r\n    name: {\r\n        flexGrow: 1,\r\n    },\r\n    body: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    shortInput: {\r\n        width: 300,\r\n    },\r\n    longInput: {\r\n        width: 500,\r\n    },\r\n    footer: {\r\n        color: \"#34425a\",\r\n    },\r\n    cardBtn: {\r\n        marginRight: theme.spacing(2),\r\n    }\r\n}));\r\n\r\ntype LoRaWANMeta = {\r\n    profile: string;\r\n    devEUI: string;\r\n    devAddr: string;\r\n    appSKey: string;\r\n    nwkSEncKey: string;\r\n};\r\n\r\n// A DevicHook adds some UI to a device.\r\n// We add some input fields to make LoRaWAN settings for a device with `lorawan` meta.\r\nhooks.addDeviceHook((props: DeviceHookProps) => {\r\n    const classes = useStylesLoRaWAN();\r\n    const {\r\n        device,\r\n        setDevice\r\n    } = props;\r\n\r\n    const meta = device?.meta[\"lorawan\"] as LoRaWANMeta;\r\n\r\n    const [newMeta, setNewMeta] = useState<LoRaWANMeta>(null);\r\n\r\n    const setMeta = (meta: LoRaWANMeta) => {\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: meta\r\n            }\r\n        }));\r\n    }\r\n\r\n    const hasUnsavedChanges = newMeta != null;\r\n\r\n    const handleProfileChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            profile: event.target.value as string\r\n        });\r\n    };\r\n    const handleDevAddrChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const devAddr = event.target.value as string;\r\n        setNewMeta({\r\n            ...newMeta,\r\n            devEUI: devAddr2EUI(devAddr),\r\n            devAddr: devAddr\r\n        });\r\n    };\r\n    const handleNwkSKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            nwkSEncKey: event.target.value as string\r\n        });\r\n    };\r\n    const handleAppKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            appSKey: event.target.value as string\r\n        });\r\n    };\r\n\r\n    const handleDevEUIChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            devEUI: event.target.value as string\r\n        });\r\n    };\r\n\r\n    const handleRemoveClick = () => {\r\n        if (confirm(\"Do you want to remove the LoRaWAN settings from this device?\")) {\r\n            wazigate.setDeviceMeta(device.id, {\r\n                lorawan: null\r\n            }).then(() => {\r\n                setMeta(null);\r\n                setNewMeta(null);\r\n            }, (error) => {\r\n                // TODO: improve\r\n                alert(error);\r\n            });\r\n        }\r\n    }\r\n\r\n    const submitChanges = () => {\r\n        wazigate.setDeviceMeta(device.id, {\r\n            lorawan: {\r\n                ...meta,\r\n                ...newMeta\r\n            }\r\n        }).then(() => {\r\n            setMeta(newMeta);\r\n            setNewMeta(null);\r\n        }, (error) => {\r\n            // TODO: improve\r\n            alert(error);\r\n        });\r\n    }\r\n\r\n    const resetChanges = () => {\r\n        setNewMeta(null);\r\n    }\r\n\r\n    const generateKeys = () => {\r\n        const r = () => \"0123456789ABCDEF\"[Math.random() * 16 | 0];\r\n        const rk = () => {\r\n            var k = new Array(32);\r\n            for (var i = 0; i < 32; i++) k[i] = r();\r\n            return k.join(\"\");\r\n        }\r\n        setNewMeta({\r\n            ...newMeta,\r\n            nwkSEncKey: rk(),\r\n            appSKey: rk()\r\n        });\r\n    }\r\n\r\n    const devAddr2EUI = (devAddr: string) => \"AA555A00\" + devAddr;\r\n\r\n    const generateDevAddr = async () => {\r\n        // TODO: implement :)\r\n        // The randomDevAddr endpoint exists but requires a valid devEUI\r\n        // but the devEUI if generated from the devAddr, so this conflicts\r\n        alert(\"This feature is not available right now.\");\r\n        // const devEUI = \"AA555A0012345678\";\r\n        // const devAddr = await wazigate.set<string>(\"apps/waziup.wazigate-lora/randomDevAddr\", devEUI);\r\n        // setMeta({\r\n        //     ...meta,\r\n        //     devAddr: devAddr\r\n        // });\r\n    }\r\n\r\n    if (!meta) {\r\n        return null;\r\n    }\r\n\r\n    // TODO: UI inputs should show an error if the keys or devAddr is bad formatted\r\n    return (\r\n        <div className={classes.root}><div className={classes.scrollBox}>\r\n            <Card className={classes.paper}>\r\n                <CardHeader avatar={<RouterIcon />}\r\n                    action={\r\n                        <IconButton aria-label=\"remove\" onClick={handleRemoveClick}>\r\n                            <RemoveIcon />\r\n                        </IconButton>\r\n                    }\r\n                    title=\"LoRaWAN Settings\"\r\n                />\r\n                <CardContent>\r\n                    <FormGroup>\r\n                        <FormControl className={classes.shortInput}>\r\n                            <InputLabel id=\"lorawan-profile-label\">LoRaWAN Profile</InputLabel>\r\n                            <Select\r\n                                labelId=\"lorawan-profile-label\"\r\n                                id=\"lorawan-profile\"\r\n                                value={newMeta?.profile || meta?.profile || \"\"}\r\n                                onChange={handleProfileChange}\r\n                            >\r\n                                <MenuItem value=\"WaziDev\">WaziDev</MenuItem>\r\n                                <MenuItem value=\"Other\">Other</MenuItem>\r\n                            </Select>\r\n                        </FormControl><br />\r\n                        {(newMeta?.profile || meta?.profile) === \"WaziDev\" ? (\r\n                            <Fragment>\r\n                                <FormControl>\r\n                                    <InputLabel htmlFor=\"lorawan-devaddr\">DevAddr (Device Address)</InputLabel>\r\n                                    <Input\r\n                                        id=\"lorawan-devaddr\"\r\n                                        onChange={handleDevAddrChange}\r\n                                        value={newMeta?.devAddr || meta?.devAddr || \"\"}\r\n                                        className={classes.shortInput}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Tooltip title=\"Autogenerate\">\r\n                                                    <IconButton size=\"small\" onClick={generateDevAddr}>\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                                <FormControl>\r\n                                    <InputLabel htmlFor=\"lorawan-nwskey\">NwkSKey (Network Session Key)</InputLabel>\r\n                                    <Input\r\n                                        id=\"lorawan-nwskey\"\r\n                                        onChange={handleNwkSKeyChange}\r\n                                        value={newMeta?.nwkSEncKey || meta?.nwkSEncKey || \"\"}\r\n                                        className={classes.longInput}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Tooltip title=\"Autogenerate\">\r\n                                                    <IconButton size=\"small\" onClick={generateKeys}>\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                                <TextField\r\n                                    id=\"lorawan-appkey\"\r\n                                    label=\"AppKey (App Key)\"\r\n                                    onChange={handleAppKeyChange}\r\n                                    value={newMeta?.appSKey || meta?.appSKey || \"\"}\r\n                                    className={classes.longInput} />\r\n                            </Fragment>\r\n                        ) : (\r\n                            <TextField\r\n                                id=\"lorawan-deveui\"\r\n                                label=\"Device EUI\"\r\n                                onChange={handleDevEUIChange}\r\n                                value={newMeta?.devEUI || meta?.devEUI || \"\"}\r\n                                className={classes.longInput} />\r\n                        )}\r\n                    </FormGroup>\r\n                </CardContent>\r\n                <CardActions className={classes.footer}>\r\n                    <Grow in={hasUnsavedChanges}>\r\n                        <Button\r\n                            className={classes.cardBtn}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={submitChanges}\r\n                            startIcon={<SaveIcon />}\r\n                        >\r\n                            Save\r\n                            </Button>\r\n                    </Grow>\r\n                    <Grow in={hasUnsavedChanges} timeout={({ enter: 500, exit: 200 })}>\r\n                        <Button\r\n                            className={classes.cardBtn}\r\n                            onClick={resetChanges}\r\n                        >\r\n                            Reset\r\n                            </Button>\r\n                    </Grow>\r\n                </CardActions>\r\n            </Card>\r\n        </div></div>\r\n    );\r\n});\r\n\r\n// Hook scripts always need to call this function to signal that the hook file was\r\n// successfully executed.\r\nhooks.resolve();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","module.exports = BabelRuntimeHelpers.extends;","module.exports = MaterialUI.SvgIcon;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z\"\n}), 'Router');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutline');\n\nexports.default = _default;","module.exports = MaterialUI;"],"sourceRoot":""}