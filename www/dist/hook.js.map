{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"BabelRuntimeHelpers.interopRequireDefault\"","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/hook.tsx","webpack:///./node_modules/@material-ui/icons/Remove.js","webpack:///external \"BabelRuntimeHelpers.extends\"","webpack:///external \"MaterialUI.SvgIcon\"","webpack:///./node_modules/@material-ui/icons/Router.js","webpack:///./node_modules/@material-ui/icons/Save.js","webpack:///./node_modules/@material-ui/icons/AddCircleOutline.js","webpack:///external \"MaterialUI\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","BabelRuntimeHelpers","interopRequireDefault","_interopRequireDefault","default","path","displayName","Component","_react","memo","forwardRef","props","ref","createElement","_SvgIcon","_extends2","muiName","hooks","setMenuHook","primary","icon","href","addDeviceMenuHook","device","handleMenuClose","setDevice","meta","lorawan","MenuItem","onClick","profile","ListItemIcon","fontSize","ListItemText","secondary","useStylesLoRaWAN","makeStyles","theme","root","overflow","scrollBox","padding","spacing","minWidth","paper","background","header","color","flexGrow","body","shortInput","width","longInput","maxWidth","button","margin","footer","addDeviceHook","classes","setMeta","hasUnsavedChanges","setHasUnsavedChanges","useState","devAddr2EUI","devAddr","className","Grow","in","Paper","variant","Toolbar","IconButton","edge","Typography","noWrap","confirm","wazigate","setDeviceMeta","id","then","error","alert","FormControl","InputLabel","Select","labelId","onChange","event","target","Fragment","TextField","label","devEUI","Tooltip","title","size","nwkSEncKey","rk","k","Array","Math","random","join","appSKey","CardActions","Button","startIcon","resolve","_default","extends","MaterialUI","SvgIcon"],"mappings":"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","file":"hook.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = React;","module.exports = BabelRuntimeHelpers.interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","import React, { Fragment, useState } from \"react\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport RouterIcon from '@material-ui/icons/Router';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { Device, Waziup, Sensor, Actuator, DeviceHook, DeviceHookProps, DeviceMenuHook, MenuHookProps, HookRegistry } from \"waziup\";\r\nimport {\r\n    Grow,\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Toolbar,\r\n    Typography,\r\n    makeStyles,\r\n    InputLabel,\r\n    FormControl,\r\n    TextField,\r\n    MenuItem,\r\n    Select,\r\n    Paper,\r\n    Button,\r\n    CardActions,\r\n    Tooltip\r\n} from '@material-ui/core';\r\n\r\n// Add a item to the dashboard menu.\r\n// The menu structure will be like this:\r\n// ```\r\n// - Dashboard\r\n// - Settings\r\n// + Apps\r\n//   - LoRaWAN    <- new\r\n// ```\r\nhooks.setMenuHook(\"apps.lorawan\", {\r\n    primary: \"LoRaWAN\",\r\n    icon: <RouterIcon />,\r\n    href: \"#/apps/waziup.wazigate-lora/index.html\",\r\n});\r\n\r\n// A DeviceMenuHook adds a item to the devices context menu.\r\n// We show a \"Make LoRaWAN\" for all devices that don't have `lorawan` metadata.  \r\nhooks.addDeviceMenuHook((props: DeviceHookProps & MenuHookProps) => {\r\n    const {\r\n        device,\r\n        handleMenuClose,\r\n        setDevice\r\n    } = props;\r\n    const handleClick = () => {\r\n        handleMenuClose();\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: {\r\n                    profile: \"\",\r\n                }\r\n            }\r\n        }));\r\n        // gateway.setDeviceMeta(device.id, {\r\n        //     lorawan: {\r\n        //         DevEUI: null,\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    if (device === null || device.meta.lorawan) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <MenuItem onClick={handleClick} key=\"waziup.wazigate-lora\">\r\n            <ListItemIcon>\r\n                <RouterIcon fontSize=\"small\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Make LoRaWAN\" secondary=\"Declare as LoRaWAN device\" />\r\n        </MenuItem>\r\n    );\r\n})\r\n\r\nconst useStylesLoRaWAN = makeStyles((theme) => ({\r\n    root: {\r\n        overflow: \"auto\",\r\n    },\r\n    scrollBox: {\r\n        padding: theme.spacing(2),\r\n        minWidth: \"fit-content\",\r\n    },\r\n    paper: {\r\n        background: \"#d8dee9\",\r\n        minWidth: \"fit-content\",\r\n    },\r\n    header: {\r\n        color: \"#34425a\",\r\n    },\r\n    name: {\r\n        flexGrow: 1,\r\n    },\r\n    body: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    shortInput: {\r\n        width: \"200px\",\r\n    },\r\n    longInput: {\r\n        width: 400,\r\n        maxWidth: \"100%\",\r\n    },\r\n    button: {\r\n        margin: \"16px 8px 0px\",\r\n    },\r\n    footer: {\r\n        color: \"#34425a\",\r\n    },\r\n}));\r\n\r\ntype LoRaWANMeta = {\r\n    profile: string;\r\n    devEUI: string;\r\n    devAddr: string;\r\n    appSKey: string;\r\n    nwkSEncKey: string;\r\n};\r\n\r\n// A DevicHook adds some UI to a device.\r\n// We add some input fields to make LoRaWAN settings for a device with `lorawan` meta.\r\nhooks.addDeviceHook((props: DeviceHookProps) => {\r\n    const classes = useStylesLoRaWAN();\r\n    const {\r\n        device,\r\n        setDevice\r\n    } = props;\r\n\r\n    const meta = device?.meta[\"lorawan\"] as LoRaWANMeta;\r\n\r\n    const setMeta = (meta: LoRaWANMeta) => {\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: meta\r\n            }\r\n        }));\r\n    }\r\n\r\n    const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n\r\n    const handleProfileChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setMeta({\r\n            ...meta,\r\n            profile: event.target.value as string\r\n        });\r\n        setHasUnsavedChanges(true);\r\n    };\r\n    const handleDevAddrChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        const devAddr = event.target.value as string;\r\n        setMeta({\r\n            ...meta,\r\n            devEUI: devAddr2EUI(devAddr),\r\n            devAddr: devAddr\r\n        });\r\n        setHasUnsavedChanges(true);\r\n    };\r\n    const handleNwkSKeyChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setMeta({\r\n            ...meta,\r\n            nwkSEncKey: event.target.value as string\r\n        });\r\n        setHasUnsavedChanges(true);\r\n    };\r\n    const handleAppKeyChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setMeta({\r\n            ...meta,\r\n            appSKey: event.target.value as string\r\n        });\r\n        setHasUnsavedChanges(true);\r\n    };\r\n\r\n    const handleRemoveClick = () => {\r\n        if(confirm(\"Do you want to remove the LoRaWAN settings from this device?\")) {\r\n            wazigate.setDeviceMeta(device.id, {\r\n                lorawan: null\r\n            }).then(() => {\r\n                setMeta(null);\r\n            }, (error) => {\r\n                // TODO: improve\r\n                alert(error);\r\n            });\r\n        }\r\n    }\r\n\r\n    const saveChanges = () => {\r\n        wazigate.setDeviceMeta(device.id, {\r\n            lorawan: meta\r\n        }).then(() => {\r\n            setHasUnsavedChanges(false);\r\n        }, (error) => {\r\n            // TODO: improve\r\n            alert(error);\r\n        });\r\n    }\r\n\r\n    const generateKeys = () => {\r\n        const r = () => \"0123456789ABCDEF\"[Math.random()*16|0];\r\n        const rk = () => {\r\n            var k = new Array(32);\r\n            for(var i=0;i<32;i++) k[i] = r();\r\n            return k.join(\"\");\r\n        }\r\n        setMeta({\r\n            ...meta,\r\n            nwkSEncKey: rk(),\r\n            appSKey: rk()\r\n        });\r\n        setHasUnsavedChanges(true);\r\n    }\r\n\r\n    const devAddr2EUI = (devAddr: string) => \"AA555A00\"+devAddr;\r\n\r\n    const generateDevAddr = async () => {\r\n        // TODO: implement :)\r\n        // The randomDevAddr endpoint exists but requires a valid devEUI\r\n        // but the devEUI if generated from the devAddr, so this conflicts\r\n        alert(\"This feature is not available right now.\");\r\n        // const devEUI = \"AA555A0012345678\";\r\n        // const devAddr = await wazigate.set<string>(\"apps/waziup.wazigate-lora/randomDevAddr\", devEUI);\r\n        // setMeta({\r\n        //     ...meta,\r\n        //     devAddr: devAddr\r\n        // });\r\n    }\r\n\r\n    // TODO: UI inputs should show an error if the keys or devAddr is bad formatted\r\n\r\n    return (\r\n        <div className={classes.root}><div className={classes.scrollBox}>\r\n        <Grow in={!!meta} key=\"waziup.wazigate-lora\">\r\n        <Paper variant=\"outlined\" className={classes.paper}>\r\n            <Toolbar className={classes.header} variant=\"dense\">\r\n                <IconButton edge=\"start\">\r\n                    <RouterIcon />\r\n                </IconButton>\r\n                <Typography variant=\"h6\" noWrap className={classes.name}>\r\n                    LoRaWAN Settings\r\n                </Typography>\r\n                <IconButton onClick={handleRemoveClick}>\r\n                    <RemoveIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n            <div className={classes.body}>\r\n                <FormControl className={classes.shortInput}>\r\n                    <InputLabel id=\"lorawan-profile-label\">LoRaWAN Profile</InputLabel>\r\n                    <Select\r\n                        labelId=\"lorawan-profile-label\"\r\n                        id=\"lorawan-profile\"\r\n                        value={meta?.profile||\"\"}\r\n                        onChange={handleProfileChange}\r\n                    >\r\n                        <MenuItem value=\"WaziDev\">WaziDev</MenuItem>\r\n                        <MenuItem value=\"\">Other</MenuItem>\r\n                    </Select>\r\n                </FormControl><br />\r\n                { meta?.profile === \"WaziDev\" ? (\r\n                    <Fragment>\r\n                        <TextField\r\n                            id=\"lorawan-devaddr\"\r\n                            label=\"DevAddr (Device Address)\"\r\n                            onChange={handleDevAddrChange}\r\n                            value={meta?.devAddr||\"\"}\r\n                            className={classes.shortInput} />\r\n                        <Tooltip title=\"Autogenerate\">\r\n                            <IconButton size=\"small\" className={classes.button} onClick={generateDevAddr}>\r\n                                <AddIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <br />\r\n                        <TextField\r\n                            id=\"lorawan-nwskey\"\r\n                            label=\"NwkSKey (Network Session Key)\"\r\n                            onChange={handleNwkSKeyChange}\r\n                            value={meta?.nwkSEncKey||\"\"}\r\n                            className={classes.longInput}/>\r\n                        <Tooltip title=\"Autogenerate\">\r\n                            <IconButton size=\"small\" className={classes.button} onClick={generateKeys}>\r\n                                <AddIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <br />\r\n                        <TextField\r\n                            id=\"lorawan-appkey\"\r\n                            label=\"AppKey (App Key)\"\r\n                            onChange={handleAppKeyChange}\r\n                            value={meta?.appSKey||\"\"}\r\n                            className={classes.longInput}/>\r\n                    </Fragment>\r\n                ): null }\r\n            </div>\r\n            <Grow in={hasUnsavedChanges}>\r\n                <CardActions className={classes.footer}>\r\n                    <Button\r\n                        startIcon={<SaveIcon />}\r\n                        onClick={saveChanges}\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                </CardActions>\r\n            </Grow>\r\n        </Paper>\r\n        </Grow>\r\n        </div></div>\r\n    );\r\n});\r\n\r\n// Hook scripts always need to call this function to signal that the hook file was\r\n// successfully executed.\r\nhooks.resolve();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","module.exports = BabelRuntimeHelpers.extends;","module.exports = MaterialUI.SvgIcon;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z\"\n}), 'Router');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutline');\n\nexports.default = _default;","module.exports = MaterialUI;"],"sourceRoot":""}